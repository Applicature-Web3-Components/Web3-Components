<div class="auc-account">
  <div class="auc-dialog-header">
    <h1>{{ data.header }}</h1>

    <button type="button" class="auc-close-btn">
      <auc-icon icon="wcl-icon-close"
                (click)="onCloseClick()"
      >
      </auc-icon>
    </button>
  </div>

  <div class="auc-account-info auc-info">
    <div class="auc-info-header">
      <span>Connected with Metamask</span>
      <button (click)="onChangeClick()"
              aucRipple
              class="auc-info-header-change"
      >
        Change
      </button>

      <button (click)="onDisconnectClick()"
              aucRipple
              class="auc-info-header-disconnect"
      >
        Disconnect
      </button>
    </div>

    <div #infoMain class="auc-info-main">
      <span>{{ accountAddress | aucShortAddress }}</span>
    </div>
    <div class="auc-info-footer">
      <span ngxClipboard
            [cbContent]="accountAddress"
            class="auc-info-footer-item"><i class="wcl-icon-copy"></i><span>Copy Address</span></span>
      <a class="auc-info-footer-item" [href]="etherscanAddress$ | async"
         target="_blank"><i class="wcl-icon-external-link"></i><span>View on Explorer</span></a>
    </div>
  </div>

  <ng-container *ngIf="(transactions$ | async) as transactions">
    <div *ngIf="transactions?.length > 0 else emptyView"
         class="auc-account-list">
      <div class="auc-account-list-header">
        <h1>Recent transactions</h1>
        <span (click)="onClearTransactionsClick()">(clear all)</span>
      </div>
      <div *ngFor="let transaction of transactions"
           class="auc-account-list-item">
        <a [href]="transaction.etherscanUrl"
           [class.fail]="transaction.status==='fail'"
           target="_blank"
           rel="noopener noreferrer">
          {{ transaction.name }}
        </a>
        <ng-container [ngSwitch]="transaction.status">
          <span *ngSwitchCase="'fail'" class="wcl-icon-fail"></span>

          <span *ngSwitchCase="'success'" class="wcl-icon-check"></span>

          <auc-spinner *ngSwitchCase="'pending'"
                       [diameter]="18"
                       [width]="2"
          >
          </auc-spinner>
        </ng-container>
      </div>
    </div>
  </ng-container>

  <ng-template #emptyView>
    <div class="auc-account-list-empty">Your transactions will appear here...</div>
  </ng-template>
</div>
