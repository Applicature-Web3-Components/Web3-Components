<div class="auc-transfer">
  <div class="auc-transfer-header">
    <h1>{{ data.header }}</h1>

    <button type="button" class="auc-close-btn">
      <auc-icon icon="wcl-icon-close"
                (click)="onCloseClick()"
      >
      </auc-icon>
    </button>
  </div>

  <applicature-input [max]="data.max"
                     [suffix]="data.symbol"
                     [hint]="'Current allowance: ' + currentAllowance + ' ' + data.symbol"
                     [adaptive]="true"
                     [decimal]="true"
                     [formControl]="amountControl"
                     label="Amount"
                     placeholder="Enter amount"
                     class="auc-transfer-input">
  </applicature-input>

  <div class="auc-transfer-progress">
    <h3 class="auc-transfer-steps">Step {{ currentStep }} of 2</h3>

    <ng-container *ngIf="currentStep === 1 else secondView">
      <p class="auc-transfer-info">Your allowance must be first increased.</p>
      <p class="auc-transfer-info">Please click Approve to increase your allowance.</p>
    </ng-container>

    <ng-template #secondView>
      <p class="auc-transfer-info">Now you can transfer funds.</p>
      <p class="auc-transfer-info">Please click Transfer.</p>
    </ng-template>

    <auc-progress-bar [progress]="50 * currentStep"></auc-progress-bar>
  </div>

  <ng-container *ngIf="currentStep === 1 else transferButton">
    <auc-button [label]="data.approveButton"
                        [adaptive]="true"
                        [height]="48"
                        (onClick)="onApproveClick()"></auc-button>
  </ng-container>

  <ng-template #transferButton>
    <auc-button [label]="data.confirmButton"
                        [adaptive]="true"
                        [height]="48"
                        (onClick)="onConfirmClick()"></auc-button>
  </ng-template>
</div>
