<div class="auc-transfer">
  <div class="auc-dialog-header">
    <h1>{{ data.header }}</h1>

    <button type="button" class="auc-close-btn">
      <auc-icon icon="wcl-icon-close"
                (click)="onCloseClick()"
      >
      </auc-icon>
    </button>
  </div>

  <auc-input [max]="data.max"
             [suffix]="data.symbol"
             [hint]="'Current allowance: ' + currentAllowance + ' ' + data.symbol"
             [adaptive]="true"
             [decimal]="true"
             [formControl]="amountControl"
             type="number"
             label="Amount"
             placeholder="Enter amount"
             class="auc-transfer-input">
  </auc-input>

  <div class="auc-progress-steps-container">
    <h3 class="auc-progress-step">Step {{ currentStep }} of 2</h3>

    <ng-container [ngSwitch]="currentStep">
      <div *ngSwitchCase="STEPS.APPROVE">
        <p class="auc-progress-step-text">Your allowance must be first increased.</p>
        <p class="auc-progress-step-text">Please click {{data.approveButton}} to increase your allowance.</p>
      </div>

      <div *ngSwitchCase="STEPS.CONFIRM">
        <p class="auc-progress-step-text">Now you can purchase subscription.</p>
        <p class="auc-progress-step-text">Please click {{data.confirmButton}}.</p>
      </div>
    </ng-container>

    <auc-progress-bar [progress]="50 * currentStep"></auc-progress-bar>
  </div>

  <ng-container *ngIf="currentStep === STEPS.APPROVE else transferButton">
    <auc-button [label]="data.approveButton"
                [adaptive]="true"
                [height]="48"
                (buttonClicked)="onApproveClick()"></auc-button>
  </ng-container>

  <ng-template #transferButton>
    <auc-button [label]="data.confirmButton"
                [adaptive]="true"
                [height]="48"
                (buttonClicked)="onConfirmClick()"></auc-button>
  </ng-template>
</div>
